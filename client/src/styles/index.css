@import "tailwindcss";
@import "tw-animate-css";

/* ... keep your @font-face as is ... */

@layer base {
  :root {
    /* --- The Explorer (Light Mode) --- */
    /* Feels like a high-quality paper map in the sun */
    --hud-bg: rgba(255, 255, 255, 0.8);
    --hud-border: rgba(28, 30, 20, 0.08);
    --text-primary: #1c1e14; /* Deep forest black */
    --text-secondary: #5a6148; /* Mossy stone */
    --accent-primary: #658c00; /* Sage expedition green */
    --accent-glow: rgba(101, 140, 0, 0.15);
    --bg-page: #fdfdfb; /* Clean paper white */
  }

  .dark {
    /* --- Night Voyage (Dark Mode) --- */
    /* Deep organic obsidian - feels premium and calm */
    --hud-bg: rgba(10, 11, 7, 0.9);
    --hud-border: rgba(191, 255, 4, 0.1);
    --text-primary: #f1f5f9;
    --text-secondary: #7e8a70; /* Muted olive grey */
    --accent-primary: #bfff04; /* The 'Volt' Lime */
    --accent-glow: rgba(191, 255, 4, 0.25);
    --bg-page: #060704; /* Organic deep black */
  }

  body {
    background-color: var(--bg-page);
    color: var(--text-primary);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    /* Smooth transition for the "Day/Night" cycle */
    transition: background 0.8s cubic-bezier(0.4, 0, 0.2, 1), color 0.8s ease;
  }
  /* Add this to your index.css or App.css */
  html,
  body,
  #root {
    /* Disable selection and callouts */
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    user-select: none;

    /* Disable "Pull to Refresh" and "Overscroll glow" */
    overscroll-behavior: none;

    /* Disable double-tap to zoom (helps button response time) */
    touch-action: manipulation;
  }

  /* Ensure the ControlCard specifically blocks all system gestures */
  .control-card-handle {
    touch-action: none; /* Crucial: Tells the browser NOT to scroll or zoom here */
    -webkit-user-drag: none;
  }
}
@theme {
  --font-sans: "Playpen Sans Thai", cursive, system-ui, sans-serif;
  --color-tactical: var(--accent-primary);
  --color-hud: var(--hud-bg);
  --color-hud-border: var(--hud-border);
}

@layer utilities {
  .paper-ruled {
    /* This creates the lines */
    background-image: linear-gradient(
      transparent 39px,
      rgba(0, 0, 0, 0.05) 40px
    );
    background-size: 100% 40px;

    /* THIS FIXES THE WRAPPING */
    line-height: 40px !important;
    white-space: pre-wrap; /* Preserves line breaks but wraps normally */
    overflow-wrap: break-word; /* Breaks long strings/URLs if they hit the edge */
    word-break: break-word;
    display: block; /* Ensures it takes up the full width */
  }
  /* --- HUD CORE CONTAINERS --- */

  /* The tactical glass card used for popups and panels */
  .glass-card {
    background-color: var(--hud-bg);
    backdrop-filter: blur(20px) saturate(160%);
    border: 1px solid var(--hud-border);
    box-shadow: var(--shadow-tactical);
    border-radius: 2rem;
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
  }

  /* High-visibility tactical button */
  .btn-primary {
    background-color: var(--accent-primary);
    color: #000000;
    font-weight: 800;
    letter-spacing: -0.02em;
    border-radius: 1.5rem;
    padding: 1rem 2rem;
    box-shadow: 0 4px 0px rgba(0, 0, 0, 0.1);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px var(--accent-glow);
  }

  /* --- MAP & LOGBOOK UTILITIES --- */

  /* Digital logbook flipping perspective (keep for the FlipBook component) */
  .stf__parent {
    perspective: 2500px;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .custom-marker {
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .custom-marker:hover {
    filter: brightness(1.2) saturate(1.5);
    transform: scale(1.1);
  }

  /* --- LEAFLET / MAP OVERRIDES --- */

  .leaflet-container {
    background: var(--bg-page) !important;
    outline: 0;
  }

  .leaflet-tile-pane {
    filter: var(--map-tiles-filter);
  }

  /* Removes the default white Leaflet popup styling to allow our glass-card look */
  .leaflet-popup-content-wrapper {
    background: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
  }

  .leaflet-popup-content {
    margin: 0 !important;
    width: fit-content !important;
  }

  .leaflet-popup-tip-container,
  .leaflet-popup-close-button {
    display: none !important;
  }
}
