@import "tailwindcss";
@import "tw-animate-css";

/* ... keep your @font-face as is ... */

@layer base {
  :root {
    /* --- The Explorer (Light Mode) --- */
    /* Feels like a high-quality paper map in the sun */
    --hud-bg: rgba(255, 255, 255, 0.8);
    --hud-border: rgba(28, 30, 20, 0.08);
    --text-primary: #1c1e14; /* Deep forest black */
    --text-secondary: #5a6148; /* Mossy stone */
    --accent-primary: #658c00; /* Sage expedition green */
    --accent-glow: rgba(101, 140, 0, 0.15);
    --bg-page: #fdfdfb; /* Clean paper white */
  }

  .dark {
    /* --- Night Voyage (Dark Mode) --- */
    /* Deep organic obsidian - feels premium and calm */
    --hud-bg: rgba(10, 11, 7, 0.9);
    --hud-border: rgba(191, 255, 4, 0.1);
    --text-primary: #f1f5f9;
    --text-secondary: #7e8a70; /* Muted olive grey */
    --accent-primary: #bfff04; /* The 'Volt' Lime */
    --accent-glow: rgba(191, 255, 4, 0.25);
    --bg-page: #060704; /* Organic deep black */

    /* Pro Dark Map: No green tint, just clean charcoal roads */
    /* --map-tiles-filter: invert(100%) hue-rotate(180deg) brightness(0.6)
      contrast(1.3) saturate(0.9); */

    /* The "Ghost Glow" - looks like the HUD is floating */
    /* --shadow-tactical: 0 0 40px rgba(191, 255, 4, 0.03),
      0 0 80px rgba(191, 255, 4, 0.01); */
  }

  body {
    background-color: var(--bg-page);
    color: var(--text-primary);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    /* Smooth transition for the "Day/Night" cycle */
    transition: background 0.8s cubic-bezier(0.4, 0, 0.2, 1), color 0.8s ease;
  }
  /* Add this to your index.css or App.css */
  html,
  body,
  #root {
    /* Disable selection and callouts */
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    user-select: none;

    /* Disable "Pull to Refresh" and "Overscroll glow" */
    overscroll-behavior: none;

    /* Disable double-tap to zoom (helps button response time) */
    touch-action: manipulation;
  }

  /* Ensure the ControlCard specifically blocks all system gestures */
  .control-card-handle {
    touch-action: none; /* Crucial: Tells the browser NOT to scroll or zoom here */
    -webkit-user-drag: none;
  }
}
@theme {
  --font-sans: "Playpen Sans Thai", cursive, system-ui, sans-serif;
  --color-tactical: var(--accent-primary);
  --color-hud: var(--hud-bg);
  --color-hud-border: var(--hud-border);
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* src/index.css */
  .custom-marker {
    cursor: pointer;
  }

  .custom-marker:hover {
    filter: brightness(1.2) saturate(1.5);
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }

  /* --- LEAFLET OVERRIDES --- */

  /* --- RPG VERTICAL POPUP FIX --- */

  .leaflet-popup-content-wrapper {
    background: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
  }

  .leaflet-popup-content {
    margin: 0 !important;
    /* Force it to follow our card's width */
    width: fit-content !important;
  }

  .leaflet-popup-tip-container {
    /* Optional: Hide the triangle tip for a cleaner "floating HUD" look */
    display: none;
  }

  .leaflet-popup-close-button {
    display: none !important;
  }
  .glass-card {
    background-color: var(--hud-bg);
    backdrop-filter: blur(20px) saturate(160%); /* Increased blur for "Calm" vibe */
    border: 1px solid var(--hud-border);
    box-shadow: var(--shadow-tactical);
    border-radius: 2rem; /* Rounder corners = more friendly/calm */
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
  }

  .btn-primary {
    background-color: var(--accent-primary);
    color: #000000; /* Force black for maximum legibility on Lime */
    font-weight: 800;
    letter-spacing: -0.02em;
    border-radius: 1.5rem;
    padding: 1rem 2rem;
    box-shadow: 0 4px 0px rgba(0, 0, 0, 0.1); /* Subtle "pushable" button feel */
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px var(--accent-glow);
  }
  .leaflet-container {
    background: var(--bg-page) !important;
    outline: 0;
  }

  /* Apply your custom map filter from index.css */
  .leaflet-tile-pane {
    filter: var(--map-tiles-filter);
  }
}
