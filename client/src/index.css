@import "tailwindcss";
@import "tw-animate-css";

@layer base {
  :root {
    /* --- DAY MISSION (High-Contrast Light) --- */
    --hud-bg: rgba(255, 255, 255, 0.9);
    --hud-border: rgba(15, 23, 42, 0.12); /* Sharper borders */
    --text-primary: #0f172a; /* Deep slate */
    --text-secondary: #475569; /* Darker gray for readability */

    /* Volt green is now "Tactical Forest" in Light Mode for better contrast */
    --accent-primary: #658c00;
    --accent-glow: rgba(101, 140, 0, 0.1);

    --bg-page: #ffffff; /* Pure white for a clean look */

    /* Map: Crisp, vivid, and high-detail */
    --map-tiles-filter: saturate(1.2) contrast(1.05);
  }

  .dark {
    /* --- NIGHT OPS (Deep Onyx & Neon) --- */
    --hud-bg: rgba(10, 10, 12, 0.95); /* Deep slate-black */
    --hud-border: rgba(191, 255, 4, 0.15); /* Tinted borders */
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;

    /* Signature Volt Green (Maximum Vibrancy) */
    --accent-primary: #bfff04;
    --accent-glow: rgba(191, 255, 4, 0.4);

    --bg-page: #020617; /* Very deep navy/black */

    /* Map: High-Contrast Tactical Radar */
    /* This makes the dark map lines bright and the background deep */
    --map-tiles-filter: brightness(1.2) contrast(1.4) saturate(1.2)
      hue-rotate(-5deg);
  }

  body {
    background-color: var(--bg-page);
    color: var(--text-primary);
    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
      color 0.4s ease;
    font-variant-numeric: tabular-nums;
    -webkit-font-smoothing: antialiased;
  }
}

/* --- TACTICAL MAP OPTIMIZATION --- */
.leaflet-tile-pane {
  /* This ensures the filter applies correctly to the map container */
  filter: var(--map-tiles-filter);
  transition: filter 0.5s ease-in-out;
}
.leaflet-container {
  background-color: #050505 !important;
}
/* Map Grid Overlay - Only visible in Dark Mode */
.dark .leaflet-container::after {
  content: "";
  position: absolute;
  inset: 0;
  /* More visible grid for that "Radar" feel */
  background-image: linear-gradient(
      rgba(191, 255, 4, 0.05) 1px,
      transparent 1px
    ),
    linear-gradient(90deg, rgba(191, 255, 4, 0.05) 1px, transparent 1px);
  background-size: 50px 50px;
  pointer-events: none;
  z-index: 400;
}

/* Fix for Marker Visibility */
.leaflet-marker-icon {
  filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.2));
}

.dark .leaflet-marker-icon {
  filter: drop-shadow(0 0 8px var(--accent-glow));
}

/* --- THEME UTILITIES --- */
@layer utilities {
  .bg-hud {
    background-color: var(--hud-bg);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--hud-border);
  }

  .text-tactical {
    color: var(--accent-primary);
  }

  .glow-tactical {
    box-shadow: 0 0 25px var(--accent-glow);
  }
}

@theme {
  --color-hud-border: var(--hud-border);
  --color-tactical: var(--accent-primary);
  --color-page-bg: var(--bg-page);
}
